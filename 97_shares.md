### 投资方向(二八原则)

```
高涨时候卖出，低估的时候买入。
指数大涨，题材出货。
注意压力位和支撑位。

题材地位买入，
1、20%的资金投资平时自己关注的股票(量比4倍以上，量能迅速放大，非st，阳线，深股主板非新股，股价小于20，流通值小于40亿),买入点：当价格大于当前试盘线的买入或者成功量等于试盘线前的成交量。
2、80%的资金投资当前最热门的题材(龙头方向)---每个时期的热点不同紧跟踪题材热点。
3、有一块只赚七毛，注意风险(会买的是徒弟，会卖的是师傅)，
	*、当股价下降到最大盈利时期的80%时卖出
	*、止损卖出、当股价底于买入那天的最低卖出或者macd出现死叉
	*、 盈利卖出、量价出现背离或者macd出现死叉
```
### 一、股票投资

一、股市投资的误区

```
1、追求一夜暴富
2、分不清运气和能力
3、患得患失
4、这次不一样
5、羊群效应
6、过于重视股份
7、投资加杠杆
8、爱上自己的股票
```



##### 1、基本面

```
1、利率：
利率上升->银行->股票下跌
2、通货膨胀
通货膨胀->股票上涨
1、ROE(净资产收益率=净利润/净资产)
净利润=公司税后利润
净资产=总资产-总负债
2、PE
```

##### 2、K线

```
1、三个红兵(三边阳)
	*.红三兵是最常见的K线组合，该组合出现时，后势看涨的情况居多。
	*.线三兵出现后，次日开始分批介入比较稳妥。
	*.如果红三兵突破近期反反弹高点，并且伴随着成交量的逐渐放大，可引起密切关注。
2、三只乌鸦(三连阴)
	*.三连阴不可怕，关键看后续交易日能否修复形态，若形态很快修复说明多方转强，若形态不修复说明空方依旧强势，应坚决退出观望。
	*.形态修复以恢复到第一根阴线开盘价位置为标志。
3、一阳吞三(两)阴
	*.一阳吞三阴是典型的反击或攻击组合，表明在调整过程中多方力量突然爆发。
	*.操作上可短线积极跟进。
5、断头铡刀
	*.断头铡刀就是一根长阴线连续击破几根阳线(均线)。
	*.该图形是市场陷入恐慌性出出逃的标志，当有大的利空出现时往往会有这种图形出现
	*.俗话说，断头铡刀，逃之夭夭。
4、两阳夹一阴
	*.最常见的K线组合，表明短期调整结束。
	*.上涨趋势中股份有望新的突破，短线可跟进，而下跌趋势中应继续观望。
6、早晨之星
	*.早晨之星的K线形式一般出现在下降趋势的末端，是见底信号，后市看涨。
7、黄昏之星
	*.若股价出现连续快速上涨，并有巨额成交出现时，星线出现后有长阴线，则是见顶信号，应减仓退出操作。
8、多个阳线连续出现
	*.多个连阳出现意味着股价持续上涨，如果10日均线不能被跌破，坚决持有。
9、缺口
	*.缺口是批股价变动中有一段价格没有任何交易，显示在股价K线图上是一个空白区域，这个区域称之“缺口”，通常又称为跳空
	*.在K线图中缺口反映出某天股价最高价比后一交易日最低价还低或者最低价比后一日最高价还高
10、缺口回补
	*.当股价出现缺口，经过几天，甚至更长时间的变动，然后反转过来，回到原来缺口的价位时，称为缺口的封闭，又称回补或补空。
11、突破缺口
	*.突破缺口是整理形态完成后突破盘局时产生的缺口
	*.突破缺口的分析意义最大，当股价以一个很大的缺口跳空远离形态时，这表示真正的突破已经形成，突破缺口越大表示未来的变动越强烈。如果股价突破支撑线或压力（阻力）线后以一个很大的缺口跳离形态，表明突破十分有力。
	*.突破缺口的出现有两种情况，一是向上的突破缺口，二是向下的突破缺口，
	*.如果出现向上突破缺口要积极跟进，出现向下的突破缺口则就减仓退出。
12、持续性缺口
	*.在上升或下跌途中出现缺口，多是持续性缺口。
	*.持续缺口是股价大幅变动中途产生的，因而不会于短时期内封闭。
13、消耗性缺口
	*.消耗性缺口股价在大幅度波动过程中作最后一次跳跃，通常消耗性缺口大多在恐慌性抛售或消耗性上升的末端出现，所以也叫竭尽缺口。
	*.消耗性缺口和普通缺口一样在短期内会回补缺口。
	*.消耗性缺口在上升的末端多有最大成交出现。
14、除权缺口
	*.由于制度因素的原因，股价在上市公司送配后，股价会出现除权，除息缺口，表现在除权价与股权登记日的收盘之间跳空。
	*.除权缺口被回补则是垃填权行情。
15、普通缺口
	*.普通缺口并无特别的分析意义，一般在几个交易日内便会完全填补。
```

##### 3、指标

```
一、MA：移动平均线的格兰维尔八大法则
	一、买入四法则
	1、MA从下降逐渐走平，而价格从MA的下方突破MA时，是买进信号。
	2、价格走在MA之上并且下跌，但未跌破MA，价格又上升时可以加码买进。
	3、价格虽然跌到MA下方，但MA在上场，不久价格又回到MA上的时候为买进信号。
	4、价格低于MA并突然暴跌，远离MA之时，极可能再度趋向MA，是买进时机。
	二、卖出四法则
	5、价格在上升过程中并走在MA之上，突然暴涨并远离MA，很可能再度趋向MA,是卖出时机。
	6、MA从上升逐渐走平，而价格从MA的上方往下跌破MA时，是卖出信号。
	7、价格在MA之下并上涨，但未突破MA又告回落，是卖出时机。
	8、价格向止突破MA，但又立刻回到MA之下，而且MA仍在继续下跌时，是卖出时机。
	PS:威尔认为第三条和第八条为初学者慎用，同时认为若将第一条和第二条，第六条和第七条合并使用可以捕捉到最佳买进和卖出时机，第四条和第五条可结合乘离率指标使用以提高其适用性和可操作性。
	三、金三角和黑三角
	1、金三角：短期均线(20)由下往上穿过中期均线(50)和长期均线(100)，中期均线由下往上穿过长期均线从而形成一个封闭的三角形。金三角一般与多头排列同步形成，代表多方聚积的上攻能量，是一种典型的买进信号
	2、黑三角：短期均线由上下穿过中期均线和长期均线，中期均线由上下穿过长期均线从而形成一个封闭的三角形。黑三角一般与空头排列同步形成，代表空方聚积了一定的杀跌能量，是一种典型的卖出信号。
	四、六线之上与六线之上(5,10,15,20,25,30)
	1、六线之上：价位通过长期时间的下跌或短暂的回调之后，第一次支行在6条移动平均线以上。6线之上是一种典型的做多信号，是价格上涨的必经之途，其信号时间要远远的早于守多排列，须与其他技术分析方法配合其概率更高。
	2、六线之下：和六线之上相反。、
	
二、MACD：
	*.趋势在一段时间内是可以把握的;每个指标都有无效的时候，没有指标会始终有效，我闪的工作就是搞清楚指标何时有效，对我们做股票有帮助
	每一句：DIFF也叫当时离差=短期(12天)均线的平滑均价-长期(26天)均线的平滑均价；当均线上以多头形式排列时，DIFF值会出现上涨，否则交出现下跌。
	第二句：DEA也叫平均离差=（9天）当日离差的平滑均价
	第三句：MACD=红绿柱=DIFF-DEA放大三倍。
	PS:当DIF，DEA指标处于0轴以下的时，短期内(8-13个交易日)连续两次发生金叉的时候要发生爆涨
	应用
	一、顺势操作---金叉/死叉战法：股份创新高，MACD指标没有创新高
		*.就是追涨杀跌，在多头市场时金叉买入，在空头市场时死叉卖出。
	二、逆市操作---顶底背离战法：股份创新底，MACD指标没有创新底
		*.就是逃顶抄底，在顶背离时卖空，在底背离时买多。
	三、波浪战法
		*.只买零轴上方第一个金叉
		*.如果是驱动浪就是买在第三浪起沸点
		*.如果是调整浪就买在C浪起涨点
		第1浪：
			*.几乎半数以上的第一浪，是属于营造底部形态的第一部分，第1浪是循环开始，由于这估行情的上升出现在空头市场跌市后的反弹和反转，买方力量并不强大，加上空头继续存在卖压，第1浪的涨幅通常是5浪中最短的行情
		第2浪：
			*.2浪的终点通常高于1浪的起点，这一浪是下跌浪，由于市场人士误以为熊市尚未结束，其调整下跌的幅度相当大几乎吃掉第1浪的大部分升幅，末期市场出现惜售心理，抛售压力逐渐衰竭，第2浪调整才会宣告结束，在此良中经常出现转向形态，如头肩底，双底等，但2浪的终点必须高于1浪的起点
		第3浪：
			*.第3浪的涨势往往是最大，最有爆发力的上升浪，这段行情持续的时间与幅度，经常是最长的，市场投资者信心恢复，成交量大幅上升，常出现突破信号，例如裂口跳长等，这段行情走势非常猛烈，由于第3浪涨势激烈，经常出现“延长波浪”的现象，3浪的终点必须高于1浪的终点
		第5浪：
			*.在股市中第5浪的涨势通常小于第3浪，速度和角度都有明显的下降，通常容易出现价格和指标之间形成顶背离结构。5浪的获利难度 对比3浪有明显的增加，5浪终点必须高于3浪的终点。
		A浪：
			*.A浪下跌，速度和要明显已于上升途中的调整(如2浪和4浪)，力度更强，持续的时间也比较长
		B浪：
			*.B浪支行的时间通常要比A浪短，速度也要略慢一些，一般A浪下跌没有来的及卖，B浪反弹可以成为次高点，也是一个相对较好的卖点，B浪的终点必须低于A浪的起点
	四、背离
		一、顶背离 
			*.股份创新高但是MACD没有创新高-卖出
		二、底背离
			*.股价创新底但是MACD没有创新底-买入
三、KDJ：

四、成交量：
```

### 97、参数设置

一、技术面参数

> macd设置为 (10、20、7)

### 98、买入规则(下跌行情不做)

一、技术面选股

> 1、水下两次金叉(但是第二次金叉距离上一次的死叉不小于等于5且最低点大于第一次的最低点)或水上一次金叉(也可以水上两次金叉第二次次金叉的的距离小于等于3)，
>
> 2、成交量大于3倍，
>
> 3、(可选)分时图中大于等于两次脉冲上涨，且当的白线在黄线上(当前价格大于均价)、且尾盘不大于三个点，

二、选股查找(同花顺)

> macd金叉；沪深a股主板非新股；量比三倍以上；量能迅速放大；非st

### 99、卖出规

一、技术面卖出

> 1、止损卖出、当股价底于买入那天的最低卖出或者macd出现死叉
>
> 2、 盈利卖出、量价出现背离或者macd出现死叉

### 100、指标编写

一、妖股（有封板妖股）

```
---变量HV,LV,TS

DIF:= "MACD.DIF #DAY"(10,20,7) ;
DEA:= "MACD.DEA #DAY"(10,20,7) ;
MYMACD:= 10*"MACD.MACD #DAY"(10,20,7) ;
AA:=REF(HHV(V,25),3);
BB:=MA(V,5);
CC:=REF(V,3)=AA AND REF(H,3)/REF(C,4)>1.098 AND AA/REF(BB,4)>HV AND V/REF(BB,4)<LV AND C>REF(L,1) AND C<REF(C,3) AND MYMACD>REF(MYMACD,1);
CD:=REF(V,4)=AA AND REF(H,4)/REF(C,5)>1.098 AND AA/REF(BB,5)>HV AND V/REF(BB,5)<LV AND C>REF(L,1) AND C<REF(C,4) AND MYMACD>REF(MYMACD,1);
BC:=REF(V,5)=AA AND REF(H,5)/REF(C,6)>1.098 AND AA/REF(BB,6)>HV AND V/REF(BB,6)<LV AND C>REF(L,1) AND C<REF(C,5) AND MYMACD>REF(MYMACD,1);
BD:=REF(V,6)=AA AND REF(H,6)/REF(C,7)>1.098 AND AA/REF(BB,7)>HV AND V/REF(BB,7)<LV AND C>REF(L,1) AND C<REF(C,6) AND MYMACD>REF(MYMACD,1);
BE:=REF(V,7)=AA AND REF(H,7)/REF(C,8)>1.098 AND AA/REF(BB,8)>HV AND V/REF(BB,8)<LV AND C>REF(L,1) AND C<REF(C,7) AND MYMACD>REF(MYMACD,1);
BF:=REF(V,8)=AA AND REF(H,8)/REF(C,9)>1.098 AND AA/REF(BB,9)>HV AND V/REF(BB,9)<LV AND C>REF(L,1) AND C<REF(C,8) AND MYMACD>REF(MYMACD,1);
BG:=REF(V,9)=AA AND REF(H,9)/REF(C,10)>1.098 AND AA/REF(BB,10)>HV AND V/REF(BB,10)<LV AND C>REF(L,1) AND C<REF(C,9) AND MYMACD>REF(MYMACD,1);
BH:=REF(V,10)=AA AND REF(H,10)/REF(C,11)>1.098 AND AA/REF(BB,11)>HV AND V/REF(BB,11)<LV AND C>REF(L,1) AND C<REF(C,10) AND MYMACD>REF(MYMACD,1);
BI:=REF(V,11)=AA AND REF(H,11)/REF(C,12)>1.098 AND AA/REF(BB,12)>HV AND V/REF(BB,12)<LV AND C>REF(L,1) AND C<REF(C,11) AND MYMACD>REF(MYMACD,1);
BJ:=REF(V,12)=AA AND REF(H,12)/REF(C,13)>1.098 AND AA/REF(BB,13)>HV AND V/REF(BB,13)<LV AND C>REF(L,1) AND C<REF(C,12) AND MYMACD>REF(MYMACD,1);
BK:=REF(V,13)=AA AND REF(H,13)/REF(C,14)>1.098 AND AA/REF(BB,14)>HV AND V/REF(BB,14)<LV AND C>REF(L,1) AND C<REF(C,13) AND MYMACD>REF(MYMACD,1);
BL:=REF(V,14)=AA AND REF(H,14)/REF(C,15)>1.098 AND AA/REF(BB,15)>HV AND V/REF(BB,15)<LV AND C>REF(L,1) AND C<REF(C,14) AND MYMACD>REF(MYMACD,1);
BM:=REF(V,15)=AA AND REF(H,15)/REF(C,16)>1.098 AND AA/REF(BB,16)>HV AND V/REF(BB,16)<LV AND C>REF(L,1) AND C<REF(C,15) AND MYMACD>REF(MYMACD,1);
BN:=REF(V,16)=AA AND REF(H,16)/REF(C,17)>1.098 AND AA/REF(BB,17)>HV AND V/REF(BB,17)<LV AND C>REF(L,1) AND C<REF(C,16) AND MYMACD>REF(MYMACD,1);
BO:=REF(V,17)=AA AND REF(H,17)/REF(C,18)>1.098 AND AA/REF(BB,18)>HV AND V/REF(BB,18)<LV AND C>REF(L,1) AND C<REF(C,17) AND MYMACD>REF(MYMACD,1);
BP:=REF(V,18)=AA AND REF(H,18)/REF(C,19)>1.098 AND AA/REF(BB,19)>HV AND V/REF(BB,19)<LV AND C>REF(L,1) AND C<REF(C,18) AND MYMACD>REF(MYMACD,1);
BQ:=REF(V,19)=AA AND REF(H,19)/REF(C,20)>1.098 AND AA/REF(BB,20)>HV AND V/REF(BB,20)<LV AND C>REF(L,1) AND C<REF(C,19) AND MYMACD>REF(MYMACD,1);
BR:=REF(V,20)=AA AND REF(H,20)/REF(C,21)>1.098 AND AA/REF(BB,21)>HV AND V/REF(BB,21)<LV AND C>REF(L,1) AND C<REF(C,20) AND MYMACD>REF(MYMACD,1);
BS:=REF(V,21)=AA AND REF(H,21)/REF(C,22)>1.098 AND AA/REF(BB,22)>HV AND V/REF(BB,22)<LV AND C>REF(L,1) AND C<REF(C,21) AND MYMACD>REF(MYMACD,1);
BT:=REF(V,22)=AA AND REF(H,22)/REF(C,23)>1.098 AND AA/REF(BB,23)>HV AND V/REF(BB,23)<LV AND C>REF(L,1) AND C<REF(C,22) AND MYMACD>REF(MYMACD,1);
BU:=REF(V,23)=AA AND REF(H,23)/REF(C,24)>1.098 AND AA/REF(BB,24)>HV AND V/REF(BB,24)<LV AND C>REF(L,1) AND C<REF(C,23) AND MYMACD>REF(MYMACD,1);
BV:=REF(V,24)=AA AND REF(H,24)/REF(C,25)>1.098 AND AA/REF(BB,25)>HV AND V/REF(BB,25)<LV AND C>REF(L,1) AND C<REF(C,24) AND MYMACD>REF(MYMACD,1);
BW:=REF(V,25)=AA AND REF(H,25)/REF(C,26)>1.098 AND AA/REF(BB,26)>HV AND V/REF(BB,26)<LV AND C>REF(L,1) AND C<REF(C,25) AND MYMACD>REF(MYMACD,1);
BX:=REF(V,26)=AA AND REF(H,26)/REF(C,27)>1.098 AND AA/REF(BB,27)>HV AND V/REF(BB,27)<LV AND C>REF(L,1) AND C<REF(C,26) AND MYMACD>REF(MYMACD,1);
BY:=REF(V,27)=AA AND REF(H,27)/REF(C,28)>1.098 AND AA/REF(BB,28)>HV AND V/REF(BB,28)<LV AND C>REF(L,1) AND C<REF(C,27) AND MYMACD>REF(MYMACD,1);
BZ:=REF(V,28)=AA AND REF(H,28)/REF(C,29)>1.098 AND AA/REF(BB,29)>HV AND V/REF(BB,29)<LV AND C>REF(L,1) AND C<REF(C,28) AND MYMACD>REF(MYMACD,1);
YY:=CC OR CD OR BC OR BD OR BE OR BF OR BG OR BH OR BI OR BJ OR BK OR BL OR BM OR BN OR BO OR BP OR BQ OR BR OR BS OR BT OR BU OR BV OR BW OR BX OR BY OR BZ;
ZZ:=COUNT(YY,30)<=TS;
OK:DRAWICON(YY AND ZZ,BB,1);

--------------------------------------------------------------------------
DEA:= "MACD.DEA #DAY"(10,20,7) ;
MYMACD:= 10*"MACD.MACD #DAY"(10,20,7) ;
AA:=REF(HHV(V,25),3);
BB:=MA(V,5);
CC:=REF(V,3)=AA AND REF(H,4)/REF(C,5)>1.098 AND REF(V,3)/REF(BB,4)>HV AND V/REF(BB,4)<LV AND C>REF(L,1) AND C<REF(C,4) AND MYMACD>REF(MYMACD,1);
CD:=REF(V,4)=AA AND REF(H,5)/REF(C,6)>1.098 AND REF(V,4)/REF(BB,5)>HV AND V/REF(BB,5)<LV AND C>REF(L,1) AND C<REF(C,5) AND MYMACD>REF(MYMACD,1);
BC:=REF(V,5)=AA AND REF(H,6)/REF(C,7)>1.098 AND REF(V,5)/REF(BB,6)>HV AND V/REF(BB,6)<LV AND C>REF(L,1) AND C<REF(C,6) AND MYMACD>REF(MYMACD,1);
BD:=REF(V,6)=AA AND REF(H,7)/REF(C,8)>1.098 AND REF(V,6)/REF(BB,7)>HV AND V/REF(BB,7)<LV AND C>REF(L,1) AND C<REF(C,7) AND MYMACD>REF(MYMACD,1);
BE:=REF(V,7)=AA AND REF(H,8)/REF(C,9)>1.098 AND REF(V,7)/REF(BB,8)>HV AND V/REF(BB,8)<LV AND C>REF(L,1) AND C<REF(C,8) AND MYMACD>REF(MYMACD,1);
BF:=REF(V,8)=AA AND REF(H,9)/REF(C,10)>1.098 AND REF(V,8)/REF(BB,9)>HV AND V/REF(BB,9)<LV AND C>REF(L,1) AND C<REF(C,9) AND MYMACD>REF(MYMACD,1);
BG:=REF(V,9)=AA AND REF(H,10)/REF(C,11)>1.098 AND REF(V,9)/REF(BB,10)>HV AND V/REF(BB,10)<LV AND C>REF(L,1) AND C<REF(C,10) AND MYMACD>REF(MYMACD,1);
BH:=REF(V,10)=AA AND REF(H,11)/REF(C,12)>1.098 AND REF(V,10)/REF(BB,11)>HV AND V/REF(BB,11)<LV AND C>REF(L,1) AND C<REF(C,11) AND MYMACD>REF(MYMACD,1);
BI:=REF(V,11)=AA AND REF(H,12)/REF(C,13)>1.098 AND REF(V,11)/REF(BB,12)>HV AND V/REF(BB,12)<LV AND C>REF(L,1) AND C<REF(C,12) AND MYMACD>REF(MYMACD,1);
BJ:=REF(V,12)=AA AND REF(H,13)/REF(C,14)>1.098 AND REF(V,12)/REF(BB,13)>HV AND V/REF(BB,13)<LV AND C>REF(L,1) AND C<REF(C,13) AND MYMACD>REF(MYMACD,1);
BK:=REF(V,13)=AA AND REF(H,14)/REF(C,15)>1.098 AND REF(V,13)/REF(BB,14)>HV AND V/REF(BB,14)<LV AND C>REF(L,1) AND C<REF(C,14) AND MYMACD>REF(MYMACD,1);
BL:=REF(V,14)=AA AND REF(H,15)/REF(C,16)>1.098 AND REF(V,14)/REF(BB,15)>HV AND V/REF(BB,15)<LV AND C>REF(L,1) AND C<REF(C,15) AND MYMACD>REF(MYMACD,1);
BM:=REF(V,15)=AA AND REF(H,16)/REF(C,17)>1.098 AND REF(V,15)/REF(BB,16)>HV AND V/REF(BB,16)<LV AND C>REF(L,1) AND C<REF(C,16) AND MYMACD>REF(MYMACD,1);
BN:=REF(V,16)=AA AND REF(H,17)/REF(C,18)>1.098 AND REF(V,16)/REF(BB,17)>HV AND V/REF(BB,17)<LV AND C>REF(L,1) AND C<REF(C,17) AND MYMACD>REF(MYMACD,1);
BO:=REF(V,17)=AA AND REF(H,18)/REF(C,19)>1.098 AND REF(V,17)/REF(BB,18)>HV AND V/REF(BB,18)<LV AND C>REF(L,1) AND C<REF(C,18) AND MYMACD>REF(MYMACD,1);
BP:=REF(V,18)=AA AND REF(H,19)/REF(C,20)>1.098 AND REF(V,18)/REF(BB,19)>HV AND V/REF(BB,19)<LV AND C>REF(L,1) AND C<REF(C,19) AND MYMACD>REF(MYMACD,1);
BQ:=REF(V,19)=AA AND REF(H,20)/REF(C,21)>1.098 AND REF(V,19)/REF(BB,20)>HV AND V/REF(BB,20)<LV AND C>REF(L,1) AND C<REF(C,20) AND MYMACD>REF(MYMACD,1);
BR:=REF(V,20)=AA AND REF(H,21)/REF(C,22)>1.098 AND REF(V,20)/REF(BB,21)>HV AND V/REF(BB,21)<LV AND C>REF(L,1) AND C<REF(C,21) AND MYMACD>REF(MYMACD,1);
BS:=REF(V,21)=AA AND REF(H,22)/REF(C,23)>1.098 AND REF(V,21)/REF(BB,22)>HV AND V/REF(BB,22)<LV AND C>REF(L,1) AND C<REF(C,22) AND MYMACD>REF(MYMACD,1);
BT:=REF(V,22)=AA AND REF(H,23)/REF(C,24)>1.098 AND REF(V,22)/REF(BB,23)>HV AND V/REF(BB,23)<LV AND C>REF(L,1) AND C<REF(C,23) AND MYMACD>REF(MYMACD,1);
BU:=REF(V,23)=AA AND REF(H,24)/REF(C,25)>1.098 AND REF(V,23)/REF(BB,24)>HV AND V/REF(BB,24)<LV AND C>REF(L,1) AND C<REF(C,24) AND MYMACD>REF(MYMACD,1);
BV:=REF(V,24)=AA AND REF(H,25)/REF(C,26)>1.098 AND REF(V,24)/REF(BB,25)>HV AND V/REF(BB,25)<LV AND C>REF(L,1) AND C<REF(C,25) AND MYMACD>REF(MYMACD,1);
BW:=REF(V,25)=AA AND REF(H,26)/REF(C,27)>1.098 AND REF(V,25)/REF(BB,26)>HV AND V/REF(BB,26)<LV AND C>REF(L,1) AND C<REF(C,26) AND MYMACD>REF(MYMACD,1);
BX:=REF(V,26)=AA AND REF(H,27)/REF(C,28)>1.098 AND REF(V,26)/REF(BB,27)>HV AND V/REF(BB,27)<LV AND C>REF(L,1) AND C<REF(C,27) AND MYMACD>REF(MYMACD,1);
BY:=REF(V,27)=AA AND REF(H,28)/REF(C,29)>1.098 AND REF(V,27)/REF(BB,28)>HV AND V/REF(BB,28)<LV AND C>REF(L,1) AND C<REF(C,28) AND MYMACD>REF(MYMACD,1);
BZ:=REF(V,28)=AA AND REF(H,29)/REF(C,30)>1.098 AND REF(V,28)/REF(BB,29)>HV AND V/REF(BB,29)<LV AND C>REF(L,1) AND C<REF(C,29) AND MYMACD>REF(MYMACD,1);
YY:=CC OR CD OR BC OR BD OR BE OR BF OR BG OR BH OR BI OR BJ OR BK OR BL OR BM OR BN OR BO OR BP OR BQ OR BR OR BS OR BT OR BU OR BV OR BW OR BX OR BY OR BZ;
ZZ:=COUNT(YY,30)<=TS;
OK:DRAWICON(YY AND ZZ,BB,1);

-----------------------------------------------------------------------
DIF:= "MACD.DIF #DAY"(10,20,7) ;
DEA:= "MACD.DEA #DAY"(10,20,7) ;
MYMACD:= 10*"MACD.MACD #DAY"(10,20,7) ;
AA:=REF(HHV(V,25),3);
BB:=MA(V,5);
CC:=REF(V,3)=AA AND REF(H,4)/REF(C,5)>1.098 AND REF(V,4)/REF(BB,5)>HV AND V/REF(BB,5)<LV AND C>REF(L,1) AND C<REF(C,4) AND MYMACD>REF(MYMACD,1);
CD:=REF(V,4)=AA AND REF(H,5)/REF(C,6)>1.098 AND REF(V,5)/REF(BB,6)>HV AND V/REF(BB,6)<LV AND C>REF(L,1) AND C<REF(C,5) AND MYMACD>REF(MYMACD,1);
BC:=REF(V,5)=AA AND REF(H,6)/REF(C,7)>1.098 AND REF(V,6)/REF(BB,7)>HV AND V/REF(BB,7)<LV AND C>REF(L,1) AND C<REF(C,6) AND MYMACD>REF(MYMACD,1);
BD:=REF(V,6)=AA AND REF(H,7)/REF(C,8)>1.098 AND REF(V,7)/REF(BB,8)>HV AND V/REF(BB,8)<LV AND C>REF(L,1) AND C<REF(C,7) AND MYMACD>REF(MYMACD,1);
BE:=REF(V,7)=AA AND REF(H,8)/REF(C,9)>1.098 AND REF(V,8)/REF(BB,9)>HV AND V/REF(BB,9)<LV AND C>REF(L,1) AND C<REF(C,8) AND MYMACD>REF(MYMACD,1);
BF:=REF(V,8)=AA AND REF(H,9)/REF(C,10)>1.098 AND REF(V,9)/REF(BB,10)>HV AND V/REF(BB,10)<LV AND C>REF(L,1) AND C<REF(C,9) AND MYMACD>REF(MYMACD,1);
BG:=REF(V,9)=AA AND REF(H,10)/REF(C,11)>1.098 AND REF(V,10)/REF(BB,11)>HV AND V/REF(BB,11)<LV AND C>REF(L,1) AND C<REF(C,10) AND MYMACD>REF(MYMACD,1);
BH:=REF(V,10)=AA AND REF(H,11)/REF(C,12)>1.098 AND REF(V,11)/REF(BB,12)>HV AND V/REF(BB,12)<LV AND C>REF(L,1) AND C<REF(C,11) AND MYMACD>REF(MYMACD,1);
BI:=REF(V,11)=AA AND REF(H,12)/REF(C,13)>1.098 AND REF(V,12)/REF(BB,13)>HV AND V/REF(BB,13)<LV AND C>REF(L,1) AND C<REF(C,12) AND MYMACD>REF(MYMACD,1);
BJ:=REF(V,12)=AA AND REF(H,13)/REF(C,14)>1.098 AND REF(V,13)/REF(BB,14)>HV AND V/REF(BB,14)<LV AND C>REF(L,1) AND C<REF(C,13) AND MYMACD>REF(MYMACD,1);
BK:=REF(V,13)=AA AND REF(H,14)/REF(C,15)>1.098 AND REF(V,14)/REF(BB,15)>HV AND V/REF(BB,15)<LV AND C>REF(L,1) AND C<REF(C,14) AND MYMACD>REF(MYMACD,1);
BL:=REF(V,14)=AA AND REF(H,15)/REF(C,16)>1.098 AND REF(V,15)/REF(BB,16)>HV AND V/REF(BB,16)<LV AND C>REF(L,1) AND C<REF(C,15) AND MYMACD>REF(MYMACD,1);
BM:=REF(V,15)=AA AND REF(H,16)/REF(C,17)>1.098 AND REF(V,16)/REF(BB,17)>HV AND V/REF(BB,17)<LV AND C>REF(L,1) AND C<REF(C,16) AND MYMACD>REF(MYMACD,1);
BN:=REF(V,16)=AA AND REF(H,17)/REF(C,18)>1.098 AND REF(V,17)/REF(BB,18)>HV AND V/REF(BB,18)<LV AND C>REF(L,1) AND C<REF(C,17) AND MYMACD>REF(MYMACD,1);
BO:=REF(V,17)=AA AND REF(H,18)/REF(C,19)>1.098 AND REF(V,18)/REF(BB,19)>HV AND V/REF(BB,19)<LV AND C>REF(L,1) AND C<REF(C,18) AND MYMACD>REF(MYMACD,1);
BP:=REF(V,18)=AA AND REF(H,19)/REF(C,20)>1.098 AND REF(V,19)/REF(BB,20)>HV AND V/REF(BB,20)<LV AND C>REF(L,1) AND C<REF(C,19) AND MYMACD>REF(MYMACD,1);
BQ:=REF(V,19)=AA AND REF(H,20)/REF(C,21)>1.098 AND REF(V,20)/REF(BB,21)>HV AND V/REF(BB,21)<LV AND C>REF(L,1) AND C<REF(C,20) AND MYMACD>REF(MYMACD,1);
BR:=REF(V,20)=AA AND REF(H,21)/REF(C,22)>1.098 AND REF(V,21)/REF(BB,22)>HV AND V/REF(BB,22)<LV AND C>REF(L,1) AND C<REF(C,21) AND MYMACD>REF(MYMACD,1);
BS:=REF(V,21)=AA AND REF(H,22)/REF(C,23)>1.098 AND REF(V,22)/REF(BB,23)>HV AND V/REF(BB,23)<LV AND C>REF(L,1) AND C<REF(C,22) AND MYMACD>REF(MYMACD,1);
BT:=REF(V,22)=AA AND REF(H,23)/REF(C,24)>1.098 AND REF(V,23)/REF(BB,24)>HV AND V/REF(BB,24)<LV AND C>REF(L,1) AND C<REF(C,23) AND MYMACD>REF(MYMACD,1);
BU:=REF(V,23)=AA AND REF(H,24)/REF(C,25)>1.098 AND REF(V,24)/REF(BB,25)>HV AND V/REF(BB,25)<LV AND C>REF(L,1) AND C<REF(C,24) AND MYMACD>REF(MYMACD,1);
BV:=REF(V,24)=AA AND REF(H,25)/REF(C,26)>1.098 AND REF(V,25)/REF(BB,26)>HV AND V/REF(BB,26)<LV AND C>REF(L,1) AND C<REF(C,25) AND MYMACD>REF(MYMACD,1);
BW:=REF(V,25)=AA AND REF(H,26)/REF(C,27)>1.098 AND REF(V,26)/REF(BB,27)>HV AND V/REF(BB,27)<LV AND C>REF(L,1) AND C<REF(C,26) AND MYMACD>REF(MYMACD,1);
BX:=REF(V,26)=AA AND REF(H,27)/REF(C,28)>1.098 AND REF(V,27)/REF(BB,28)>HV AND V/REF(BB,28)<LV AND C>REF(L,1) AND C<REF(C,27) AND MYMACD>REF(MYMACD,1);
BY:=REF(V,27)=AA AND REF(H,28)/REF(C,29)>1.098 AND REF(V,28)/REF(BB,29)>HV AND V/REF(BB,29)<LV AND C>REF(L,1) AND C<REF(C,28) AND MYMACD>REF(MYMACD,1);
BZ:=REF(V,28)=AA AND REF(H,29)/REF(C,30)>1.098 AND REF(V,29)/REF(BB,30)>HV AND V/REF(BB,30)<LV AND C>REF(L,1) AND C<REF(C,29) AND MYMACD>REF(MYMACD,1);
YY:=CC OR CD OR BC OR BD OR BE OR BF OR BG OR BH OR BI OR BJ OR BK OR BL OR BM OR BN OR BO OR BP OR BQ OR BR OR BS OR BT OR BU OR BV OR BW OR BX OR BY OR BZ;
ZZ:=COUNT(YY,30)<=TS;
OK:DRAWICON(YY AND ZZ,BB,1);

-----------------------------------------------------------
DEA:= "MACD.DEA #DAY"(10,20,7) ;
MYMACD:= 10*"MACD.MACD #DAY"(10,20,7) ;
AA:=REF(HHV(V,25),3);
BB:=MA(V,5);
CC:=REF(V,3)=AA AND REF(H,4)/REF(C,5)>1.098 AND REF(V,3)/REF(BB,4)>HV AND V/REF(BB,4)<LV AND C>REF(L,1) AND C<REF(C,3) AND MYMACD>REF(MYMACD,1);
CD:=REF(V,4)=AA AND REF(H,5)/REF(C,6)>1.098 AND REF(V,4)/REF(BB,5)>HV AND V/REF(BB,5)<LV AND C>REF(L,1) AND C<REF(C,4) AND MYMACD>REF(MYMACD,1);
BC:=REF(V,5)=AA AND REF(H,6)/REF(C,7)>1.098 AND REF(V,5)/REF(BB,6)>HV AND V/REF(BB,6)<LV AND C>REF(L,1) AND C<REF(C,5) AND MYMACD>REF(MYMACD,1);
BD:=REF(V,6)=AA AND REF(H,7)/REF(C,8)>1.098 AND REF(V,6)/REF(BB,7)>HV AND V/REF(BB,7)<LV AND C>REF(L,1) AND C<REF(C,6) AND MYMACD>REF(MYMACD,1);
BE:=REF(V,7)=AA AND REF(H,8)/REF(C,9)>1.098 AND REF(V,7)/REF(BB,8)>HV AND V/REF(BB,8)<LV AND C>REF(L,1) AND C<REF(C,7) AND MYMACD>REF(MYMACD,1);
BF:=REF(V,8)=AA AND REF(H,9)/REF(C,10)>1.098 AND REF(V,8)/REF(BB,9)>HV AND V/REF(BB,9)<LV AND C>REF(L,1) AND C<REF(C,8) AND MYMACD>REF(MYMACD,1);
BG:=REF(V,9)=AA AND REF(H,10)/REF(C,11)>1.098 AND REF(V,9)/REF(BB,10)>HV AND V/REF(BB,10)<LV AND C>REF(L,1) AND C<REF(C,9) AND MYMACD>REF(MYMACD,1);
BH:=REF(V,10)=AA AND REF(H,11)/REF(C,12)>1.098 AND REF(V,10)/REF(BB,11)>HV AND V/REF(BB,11)<LV AND C>REF(L,1) AND C<REF(C,10) AND MYMACD>REF(MYMACD,1);
BI:=REF(V,11)=AA AND REF(H,12)/REF(C,13)>1.098 AND REF(V,11)/REF(BB,12)>HV AND V/REF(BB,12)<LV AND C>REF(L,1) AND C<REF(C,11) AND MYMACD>REF(MYMACD,1);
BJ:=REF(V,12)=AA AND REF(H,13)/REF(C,14)>1.098 AND REF(V,12)/REF(BB,13)>HV AND V/REF(BB,13)<LV AND C>REF(L,1) AND C<REF(C,12) AND MYMACD>REF(MYMACD,1);
BK:=REF(V,13)=AA AND REF(H,14)/REF(C,15)>1.098 AND REF(V,13)/REF(BB,14)>HV AND V/REF(BB,14)<LV AND C>REF(L,1) AND C<REF(C,13) AND MYMACD>REF(MYMACD,1);
BL:=REF(V,14)=AA AND REF(H,15)/REF(C,16)>1.098 AND REF(V,14)/REF(BB,15)>HV AND V/REF(BB,15)<LV AND C>REF(L,1) AND C<REF(C,14) AND MYMACD>REF(MYMACD,1);
BM:=REF(V,15)=AA AND REF(H,16)/REF(C,17)>1.098 AND REF(V,15)/REF(BB,16)>HV AND V/REF(BB,16)<LV AND C>REF(L,1) AND C<REF(C,15) AND MYMACD>REF(MYMACD,1);
BN:=REF(V,16)=AA AND REF(H,17)/REF(C,18)>1.098 AND REF(V,16)/REF(BB,17)>HV AND V/REF(BB,17)<LV AND C>REF(L,1) AND C<REF(C,16) AND MYMACD>REF(MYMACD,1);
BO:=REF(V,17)=AA AND REF(H,18)/REF(C,19)>1.098 AND REF(V,17)/REF(BB,18)>HV AND V/REF(BB,18)<LV AND C>REF(L,1) AND C<REF(C,17) AND MYMACD>REF(MYMACD,1);
BP:=REF(V,18)=AA AND REF(H,19)/REF(C,20)>1.098 AND REF(V,18)/REF(BB,19)>HV AND V/REF(BB,19)<LV AND C>REF(L,1) AND C<REF(C,18) AND MYMACD>REF(MYMACD,1);
BQ:=REF(V,19)=AA AND REF(H,20)/REF(C,21)>1.098 AND REF(V,19)/REF(BB,20)>HV AND V/REF(BB,20)<LV AND C>REF(L,1) AND C<REF(C,19) AND MYMACD>REF(MYMACD,1);
BR:=REF(V,20)=AA AND REF(H,21)/REF(C,22)>1.098 AND REF(V,20)/REF(BB,21)>HV AND V/REF(BB,21)<LV AND C>REF(L,1) AND C<REF(C,20) AND MYMACD>REF(MYMACD,1);
BS:=REF(V,21)=AA AND REF(H,22)/REF(C,23)>1.098 AND REF(V,21)/REF(BB,22)>HV AND V/REF(BB,22)<LV AND C>REF(L,1) AND C<REF(C,21) AND MYMACD>REF(MYMACD,1);
BT:=REF(V,22)=AA AND REF(H,23)/REF(C,24)>1.098 AND REF(V,22)/REF(BB,23)>HV AND V/REF(BB,23)<LV AND C>REF(L,1) AND C<REF(C,22) AND MYMACD>REF(MYMACD,1);
BU:=REF(V,23)=AA AND REF(H,24)/REF(C,25)>1.098 AND REF(V,23)/REF(BB,24)>HV AND V/REF(BB,24)<LV AND C>REF(L,1) AND C<REF(C,23) AND MYMACD>REF(MYMACD,1);
BV:=REF(V,24)=AA AND REF(H,25)/REF(C,26)>1.098 AND REF(V,24)/REF(BB,25)>HV AND V/REF(BB,25)<LV AND C>REF(L,1) AND C<REF(C,24) AND MYMACD>REF(MYMACD,1);
BW:=REF(V,25)=AA AND REF(H,26)/REF(C,27)>1.098 AND REF(V,25)/REF(BB,26)>HV AND V/REF(BB,26)<LV AND C>REF(L,1) AND C<REF(C,25) AND MYMACD>REF(MYMACD,1);
BX:=REF(V,26)=AA AND REF(H,27)/REF(C,28)>1.098 AND REF(V,26)/REF(BB,27)>HV AND V/REF(BB,27)<LV AND C>REF(L,1) AND C<REF(C,26) AND MYMACD>REF(MYMACD,1);
BY:=REF(V,27)=AA AND REF(H,28)/REF(C,29)>1.098 AND REF(V,27)/REF(BB,28)>HV AND V/REF(BB,28)<LV AND C>REF(L,1) AND C<REF(C,27) AND MYMACD>REF(MYMACD,1);
BZ:=REF(V,28)=AA AND REF(H,29)/REF(C,30)>1.098 AND REF(V,28)/REF(BB,29)>HV AND V/REF(BB,29)<LV AND C>REF(L,1) AND C<REF(C,28) AND MYMACD>REF(MYMACD,1);
YY:=CC OR CD OR BC OR BD OR BE OR BF OR BG OR BH OR BI OR BJ OR BK OR BL OR BM OR BN OR BO OR BP OR BQ OR BR OR BS OR BT OR BU OR BV OR BW OR BX OR BY OR BZ;
ZZ:=COUNT(YY,30)<=TS  AND C<20 AND FINANCE(40)<4000000000;
OK:DRAWICON(YY AND ZZ,BB,1);

-----------------------------------------------
DIF:= "MACD.DIF #DAY"(10,20,7) ;
DEA:= "MACD.DEA #DAY"(10,20,7) ;
MYMACD:= 10*"MACD.MACD #DAY"(10,20,7) ;
AA:=REF(HHV(V,25),3);
BB:=MA(V,5);
CC:=REF(V,3)=AA AND REF(H,4)/REF(C,5)>1.098 AND REF(V,4)/REF(BB,5)>HV AND V/REF(BB,5)<LV AND C>REF(L,1) AND C<REF(C,3) AND MYMACD>REF(MYMACD,1);
CD:=REF(V,4)=AA AND REF(H,5)/REF(C,6)>1.098 AND REF(V,5)/REF(BB,6)>HV AND V/REF(BB,6)<LV AND C>REF(L,1) AND C<REF(C,4) AND MYMACD>REF(MYMACD,1);
BC:=REF(V,5)=AA AND REF(H,6)/REF(C,7)>1.098 AND REF(V,6)/REF(BB,7)>HV AND V/REF(BB,7)<LV AND C>REF(L,1) AND C<REF(C,5) AND MYMACD>REF(MYMACD,1);
BD:=REF(V,6)=AA AND REF(H,7)/REF(C,8)>1.098 AND REF(V,7)/REF(BB,8)>HV AND V/REF(BB,8)<LV AND C>REF(L,1) AND C<REF(C,6) AND MYMACD>REF(MYMACD,1);
BE:=REF(V,7)=AA AND REF(H,8)/REF(C,9)>1.098 AND REF(V,8)/REF(BB,9)>HV AND V/REF(BB,9)<LV AND C>REF(L,1) AND C<REF(C,7) AND MYMACD>REF(MYMACD,1);
BF:=REF(V,8)=AA AND REF(H,9)/REF(C,10)>1.098 AND REF(V,9)/REF(BB,10)>HV AND V/REF(BB,10)<LV AND C>REF(L,1) AND C<REF(C,8) AND MYMACD>REF(MYMACD,1);
BG:=REF(V,9)=AA AND REF(H,10)/REF(C,11)>1.098 AND REF(V,10)/REF(BB,11)>HV AND V/REF(BB,11)<LV AND C>REF(L,1) AND C<REF(C,9) AND MYMACD>REF(MYMACD,1);
BH:=REF(V,10)=AA AND REF(H,11)/REF(C,12)>1.098 AND REF(V,11)/REF(BB,12)>HV AND V/REF(BB,12)<LV AND C>REF(L,1) AND C<REF(C,10) AND MYMACD>REF(MYMACD,1);
BI:=REF(V,11)=AA AND REF(H,12)/REF(C,13)>1.098 AND REF(V,12)/REF(BB,13)>HV AND V/REF(BB,13)<LV AND C>REF(L,1) AND C<REF(C,11) AND MYMACD>REF(MYMACD,1);
BJ:=REF(V,12)=AA AND REF(H,13)/REF(C,14)>1.098 AND REF(V,13)/REF(BB,14)>HV AND V/REF(BB,14)<LV AND C>REF(L,1) AND C<REF(C,12) AND MYMACD>REF(MYMACD,1);
BK:=REF(V,13)=AA AND REF(H,14)/REF(C,15)>1.098 AND REF(V,14)/REF(BB,15)>HV AND V/REF(BB,15)<LV AND C>REF(L,1) AND C<REF(C,13) AND MYMACD>REF(MYMACD,1);
BL:=REF(V,14)=AA AND REF(H,15)/REF(C,16)>1.098 AND REF(V,15)/REF(BB,16)>HV AND V/REF(BB,16)<LV AND C>REF(L,1) AND C<REF(C,14) AND MYMACD>REF(MYMACD,1);
BM:=REF(V,15)=AA AND REF(H,16)/REF(C,17)>1.098 AND REF(V,16)/REF(BB,17)>HV AND V/REF(BB,17)<LV AND C>REF(L,1) AND C<REF(C,15) AND MYMACD>REF(MYMACD,1);
BN:=REF(V,16)=AA AND REF(H,17)/REF(C,18)>1.098 AND REF(V,17)/REF(BB,18)>HV AND V/REF(BB,18)<LV AND C>REF(L,1) AND C<REF(C,16) AND MYMACD>REF(MYMACD,1);
BO:=REF(V,17)=AA AND REF(H,18)/REF(C,19)>1.098 AND REF(V,18)/REF(BB,19)>HV AND V/REF(BB,19)<LV AND C>REF(L,1) AND C<REF(C,17) AND MYMACD>REF(MYMACD,1);
BP:=REF(V,18)=AA AND REF(H,19)/REF(C,20)>1.098 AND REF(V,19)/REF(BB,20)>HV AND V/REF(BB,20)<LV AND C>REF(L,1) AND C<REF(C,18) AND MYMACD>REF(MYMACD,1);
BQ:=REF(V,19)=AA AND REF(H,20)/REF(C,21)>1.098 AND REF(V,20)/REF(BB,21)>HV AND V/REF(BB,21)<LV AND C>REF(L,1) AND C<REF(C,19) AND MYMACD>REF(MYMACD,1);
BR:=REF(V,20)=AA AND REF(H,21)/REF(C,22)>1.098 AND REF(V,21)/REF(BB,22)>HV AND V/REF(BB,22)<LV AND C>REF(L,1) AND C<REF(C,20) AND MYMACD>REF(MYMACD,1);
BS:=REF(V,21)=AA AND REF(H,22)/REF(C,23)>1.098 AND REF(V,22)/REF(BB,23)>HV AND V/REF(BB,23)<LV AND C>REF(L,1) AND C<REF(C,21) AND MYMACD>REF(MYMACD,1);
BT:=REF(V,22)=AA AND REF(H,23)/REF(C,24)>1.098 AND REF(V,23)/REF(BB,24)>HV AND V/REF(BB,24)<LV AND C>REF(L,1) AND C<REF(C,22) AND MYMACD>REF(MYMACD,1);
BU:=REF(V,23)=AA AND REF(H,24)/REF(C,25)>1.098 AND REF(V,24)/REF(BB,25)>HV AND V/REF(BB,25)<LV AND C>REF(L,1) AND C<REF(C,23) AND MYMACD>REF(MYMACD,1);
BV:=REF(V,24)=AA AND REF(H,25)/REF(C,26)>1.098 AND REF(V,25)/REF(BB,26)>HV AND V/REF(BB,26)<LV AND C>REF(L,1) AND C<REF(C,24) AND MYMACD>REF(MYMACD,1);
BW:=REF(V,25)=AA AND REF(H,26)/REF(C,27)>1.098 AND REF(V,26)/REF(BB,27)>HV AND V/REF(BB,27)<LV AND C>REF(L,1) AND C<REF(C,25) AND MYMACD>REF(MYMACD,1);
BX:=REF(V,26)=AA AND REF(H,27)/REF(C,28)>1.098 AND REF(V,27)/REF(BB,28)>HV AND V/REF(BB,28)<LV AND C>REF(L,1) AND C<REF(C,26) AND MYMACD>REF(MYMACD,1);
BY:=REF(V,27)=AA AND REF(H,28)/REF(C,29)>1.098 AND REF(V,28)/REF(BB,29)>HV AND V/REF(BB,29)<LV AND C>REF(L,1) AND C<REF(C,27) AND MYMACD>REF(MYMACD,1);
BZ:=REF(V,28)=AA AND REF(H,29)/REF(C,30)>1.098 AND REF(V,29)/REF(BB,30)>HV AND V/REF(BB,30)<LV AND C>REF(L,1) AND C<REF(C,28) AND MYMACD>REF(MYMACD,1);
YY:=CC OR CD OR BC OR BD OR BE OR BF OR BG OR BH OR BI OR BJ OR BK OR BL OR BM OR BN OR BO OR BP OR BQ OR BR OR BS OR BT OR BU OR BV OR BW OR BX OR BY OR BZ;
ZZ:=COUNT(YY,30)<=TS AND C<20 AND FINANCE(40)<4000000000;
OK:DRAWICON(YY AND ZZ,BB,1);

```



##### 二、水上金叉

```
----变量TS,UP
MACD01:=10*"MACD.MACD #DAY"(10,20,7);
DIF01:="MACD.DIF #DAY"(10,20,7);
DEA01:="MACD.DEA #DAY"(10,20,7);
DIF02:=REF(DIF01,UP) ;
DEA02:=REF(DEA01,UP) ;
DIF03:=REF(DIF01,UP+TS);
DEA03:=REF(DEA01,UP+TS);
BB:=CROSS(DIF02,DEA02);
CC:=CROSS(DEA03,DIF03);
DD:=BB AND CC AND DEA02>0 AND DIF01>DEA01 AND DEA01>0;
DRAWICON(DD,H,1);
```

